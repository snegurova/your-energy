{"version":3,"file":"main-C7fRMbRp.js","sources":["../../src/js/loader.js","../../src/js/api/ExercisesService.js","../../src/js/api/FiltersService.js","../../src/js/api/QuotesService.js","../../src/js/api/SubscriptionService.js","../../src/js/api/index.js","../../src/js/services/limit.js","../../src/js/categories/render-template.js","../../src/js/categories/categories-api.js","../../src/js/pagination.js","../../src/js/pages/home.js","../../src/images/sprite.svg","../../src/js/renderExercises.js","../../src/js/pages/exercises.js","../../src/js/services/storage.js","../../src/js/modal/exerciseHelpers.js","../../src/js/favorites/favorites-api.js","../../src/js/quote/quote.js","../../src/js/reloader/reloader.js","../../src/js/search/search.js","../../src/js/breadcrumbs/breadcrumbs.js","../../src/js/header/burger-menu.js","../../src/js/refs.js","../../src/js/modal/renderExercise.js","../../src/js/modal/modal.js","../../src/js/footer/subscription.js","../../src/js/footer/animation.js","../../src/js/modal/rateModal.js","../../src/js/scrollToTop.js","../../src/main.js"],"sourcesContent":["const loader = document.querySelector('.spinner');\n\nexport function showLoader() {\n    loader.classList.remove('hide');\n}\n\nexport function hideLoader() {\n    loader.classList.add('hide');\n    \n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { hideLoader, showLoader } from '../loader';\n\n/**\n * Service class to interact with exercises API.\n */\nexport default class ExercisesService {\n  #basePath = '/exercises';\n  #axios;\n  #page = 1;\n  #filter = '';\n  #name = '';\n\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  get page() {\n    return this.#page;\n  }\n\n  set page(value) {\n    if (typeof value === 'number' && value >= 1) {\n      this.#page = value;\n    } else {\n      console.warn('Page must be a positive number. Setting to 1.');\n      this.#page = 1;\n    }\n  }\n\n  get filter() {\n    return this.#filter;\n  }\n\n  set filter(value) {\n    if (typeof value === 'string') {\n      this.#filter = value;\n    } else {\n      console.warn('Filter must be a string');\n    }\n  }\n\n  get name() {\n    return this.#name;\n  }\n\n  set name(value) {\n    if (typeof value === 'string') {\n      this.#name = value;\n    } else {\n      console.warn('Name must be a string');\n    }\n  }\n\n  async getExercises(params) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(this.#basePath, { params });\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  async getExercisesById(id) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(`${this.#basePath}/${id}`);\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  async addExerciseRatingById(id, body) {\n    try {\n      showLoader();\n      this.#validateBodyForRating(body);\n      const { data } = await this.#axios.patch(\n        `${this.#basePath}/${id}/rating`,\n        body\n      );\n      iziToast.success({\n        title: 'Success',\n        message: 'Rating added successfully',\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  async search(value) {\n    if (!value || value.trim() === '') {\n      throw new Error('Search value cannot be an empty string.');\n    }\n\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(\n        `${this.#basePath}?${this.#filter}=${this.#name}&keyword=${value}`\n      );\n      // console.log('ExercisesService search data:', data);\n      return data;\n    } catch (error) {\n      throw error;\n    } finally {\n      hideLoader();\n    }\n  }\n\n  #validateBodyForRating(body) {\n    const { rate, email, review } = body;\n\n    if (!rate || rate < 1 || rate > 5) {\n      const error = new Error('Rate must be between 1 and 5');\n      error.code = 'INVALID_RATE';\n      throw error;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email || !emailRegex.test(email)) {\n      const error = new Error('A valid email is required');\n      error.code = 'INVALID_EMAIL';\n      throw error;\n    }\n\n    if (!review || review.length < 5) {\n      const error = new Error('Review must be at least 5 characters long');\n      error.code = 'INVALID_REVIEW';\n      throw error;\n    }\n  }\n}\n","import { hideLoader, showLoader } from \"../loader\";\n\n/**\n * Service class to interact with filters API.\n */\nexport default class FiltersService {\n  #basePath = '/filters';\n  #axios;\n  #page = 1;\n  #filter = '';\n  totalPages = 1;\n\n  static FilterTypes = {\n    BODY_PARTS: 'Body parts',\n    MUSCLES: 'Muscles',\n    EQUIPMENT: 'Equipment',\n  };\n\n  /**\n   * Creates an instance of FiltersService.\n   * @param {Object} axios - Axios instance for making HTTP requests.\n   */\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  /**\n   * Gets the current page number.\n   * @returns {number} The current page number.\n   */\n  get page() {\n    return this.#page;\n  }\n\n  /**\n   * Sets the current page number.\n   * @param {number} value - The new page number (must be a positive number).\n   */\n  set page(value) {\n    if (typeof value === 'number' && value >= 1) {\n      this.#page = value;\n    } else {\n      console.warn('Page must be a positive number. Setting to 1.');\n      this.#page = 1;\n    }\n  }\n\n  /**\n   * Gets the current filter string.\n   * @returns {string} The current filter string.\n   */\n  get filter() {\n    return this.#filter;\n  }\n\n  /**\n   * Sets the filter string. Only allows specific enum values.\n   * @param {string} value - The new filter string.\n   */\n  set filter(value) {\n    if (Object.values(FiltersService.FilterTypes).includes(value)) {\n      this.#filter = value;\n    } else {\n      console.warn(\n        `Invalid filter value. Allowed values are: ${Object.values(\n          FiltersService.FilterTypes\n        ).join(', ')}`\n      );\n    }\n  }\n\n  /**\n   * Fetches filters for exercises based on the current filter and pagination.\n   * @returns {Promise<Object>} The data of filters fetched from the API.\n   * @throws {Error} Throws an error if the request fails.\n   */\n  async getFilters(params) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(this.#basePath, { params });\n      return data;\n    } catch (error) {\n      throw error;\n    } finally {\n      hideLoader();\n    }\n  }\n}\n","/**\n * Service class to interact with quotes API.\n */\nexport default class QuotesService {\n  #basePath = '/quote';\n  #axios;\n\n  /**\n   * Creates an instance of QuotesService.\n   * @param {Object} axios - Axios instance for making HTTP requests.\n   */\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  /**\n   * Fetches the quote of the day.\n   * @returns {Promise<Object>} The data of the quote fetched from the API.\n   * @throws {Error} Throws an error if the request fails.\n   */\n  async getQuote() {\n    try {\n      const { data } = await this.#axios.get(this.#basePath);\n      // console.log('QuotesService getQuote data:', data);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n","/**\n * Service class to handle subscription functionality via email.\n */\nexport default class SubscriptionService {\n  #basePath = '/subscription';\n  #axios;\n\n  /**\n   * Creates an instance of SubscriptionService.\n   * @param {Object} axios - Axios instance for making HTTP requests.\n   */\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  /**\n   * Subscribes a user to the service using their email.\n   * @param {string} email - The email address of the user to subscribe.\n   * @returns {Promise<Object>} The data returned from the API after subscribing.\n   * @throws {Error} Throws an error if the email is invalid or the request fails.\n   */\n  async subscribe(email) {\n    try {\n      this.#validateEmail(email);\n      const { data } = await this.#axios.post(this.#basePath, { email });\n      // console.log('SubscriptionService subscribe data:', data);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * Validates the email address.\n   * @param {string} email - The email address to validate.\n   * @throws {Error} Throws an error if the email is invalid.\n   * @private\n   */\n  #validateEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email || !emailRegex.test(email)) {\n      const error = new Error('A valid email is required');\n      error.code = 'INVALID_EMAIL';\n      throw error;\n    }\n  }\n}\n","import axios from 'axios';\n\nimport ExercisesService from './ExercisesService';\nimport FiltersService from './FiltersService';\nimport QuotesService from './QuotesService';\nimport SubscriptionService from './SubscriptionService';\n\nconst initAPI = ({ host }) => {\n  const config = {\n    baseURL: host,\n    timeout: 1000 * 60 * 20,\n    headers: {\n      common: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n    },\n  };\n\n  const instance = axios.create(config);\n  // instance.get('https://your-energy.b.goit.study/api/filters', { params });\n\n  return {\n    axiosInstance: instance,\n    exercises: new ExercisesService(instance),\n    filters: new FiltersService(instance),\n    quotes: new QuotesService(instance),\n    subscription: new SubscriptionService(instance),\n  };\n};\n\nconst options = {\n  host: 'https://your-energy.b.goit.study/api/',\n};\n\nconst api = initAPI(options);\n\nexport default api;\n","export const BREAKPOINTS = {\n  tablet: 768,\n};\n\nexport function getExercisesLimit() {\n  if (screen.width < BREAKPOINTS.tablet) {\n    return 8;\n  }\n  return 10;\n}\n\nexport function getCategoriesLimit() {\n  if (screen.width < BREAKPOINTS.tablet) {\n    return 9;\n  }\n  return 12;\n}\n","import { FILTERS_MAPPER } from '../../main';\n\nimport { getExercisesLimit } from '../services/limit';\nexport const createCard = ({ filter, name, imgURL }) => {\n  const dataFilter = `data-${FILTERS_MAPPER[filter]}=\"${name}\"`;\n  return `\n  <li class=\"category-card\">\n    <a href=\"/\" class=\"router-link category-link\"\n      ${dataFilter}\n      data-page=\"1\"\n      data-limit=\"${getExercisesLimit()}\"\n      data-name=${name}\n    >\n      <div class=\"category-card-description\">\n        <span class=\"category-card-title\">${name}</span>\n        <span class=\"category-card-filter\">${filter}</span>\n      </div>\n      <img class=\"category-image\" src=\"${imgURL}\" alt=\"${name}\" />\n    </a>\n  </li>\n`;\n};\n","import { createCard } from './render-template';\nimport { addListener, handleClick } from '../../main';\n\nexport const renderCards = (data, element) => {\n  if (!element) {\n    return;\n  }\n  const markup = data.results.map(createCard).join('');\n  element.innerHTML = `<ul class=\"category-list\">${markup}</ul>`;\n  addListener('.category-link', (event) =>\n    handleClick(event, {\n      isInitPagination: true,\n    })\n  );\n};\n","import {\n  updateParameter,\n  pushState,\n  SEARCH_PARAMS,\n  handleLocation,\n} from '../main';\n\nlet totalPages;\nlet currentPage;\n\nconst prevBtn = document.getElementById('prev-btn');\nconst nextBtn = document.getElementById('next-btn');\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\nconst pageInfo = document.getElementById('page-info');\n\nexport const initPagination = (callback, current, total) => {\n  currentPage = +current;\n  totalPages = total;\n\n  renderPagination(callback);\n\n  firstBtn.addEventListener('click', () => goToPage(1, callback));\n  prevBtn.addEventListener('click', () =>\n    goToPage(currentPage === 1 ? 1 : currentPage - 1, callback)\n  );\n  nextBtn.addEventListener('click', () =>\n    goToPage(\n      currentPage === totalPages ? totalPages : currentPage + 1,\n      callback\n    )\n  );\n  lastBtn.addEventListener('click', () => goToPage(totalPages, callback));\n};\n\nexport const renderPagination = (\n  callback,\n  current,\n  total,\n  isInitPagination\n) => {\n  if (!pageInfo || (!current && !total) || !callback) {\n    return;\n  }\n\n  if ((!currentPage && !totalPages) || isInitPagination) {\n    initPagination(callback, current, total);\n  }\n\n  let pages = [];\n  if (totalPages <= 3) {\n    for (let i = 1; i <= totalPages; i++) {\n      pages.push(i);\n    }\n  } else {\n    if (currentPage > 2) {\n      pages.push(1);\n      pages.push('...');\n    }\n\n    let startPage = Math.max(1, currentPage - 1);\n    let endPage = Math.min(totalPages, currentPage + 1);\n\n    if (currentPage === 1) {\n      endPage = 3;\n    } else if (currentPage === totalPages) {\n      startPage = totalPages - 2;\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(i);\n    }\n\n    if (currentPage < totalPages - 1) {\n      pages.push('...');\n      pages.push(totalPages);\n    }\n  }\n\n  pageInfo.innerHTML = pages\n    .map((page) => {\n      if (page === '...') {\n        return `<span class=\"dots\">${page}</span>`;\n      }\n      return `<button value=\"${page}\" class=\"pagination-btn page-number ${\n        page === currentPage ? 'active' : ''\n      }\" data-page=\"${page}\" value=\"${page}\"><span class=\"numbers button-content ${\n        page > 9 ? 'large' : ''\n      }\">${page}</span></button>`;\n    })\n    .join(' ');\n\n  document.querySelectorAll('.page-number').forEach((button) => {\n    button.addEventListener('click', (event) => {\n      goToPage(Number(event.currentTarget.value), callback);\n    });\n  });\n};\n\nasync function goToPage(page, callback) {\n  currentPage = page;\n  callback(page);\n  renderPagination(callback);\n}\n\nexport const paginationCallback = (page) => {\n  const url = updateParameter(SEARCH_PARAMS.PAGE, page, true);\n  pushState(url);\n  handleLocation();\n};\n","import api from '../api';\nimport { renderCards } from '../categories/categories-api';\nimport { handleClick, SEARCH_PARAMS } from '../../main';\nimport { renderPagination, paginationCallback } from '../pagination';\nconst cardsContainer = document.querySelector('.cards-container');\nconst filterLinks = document.querySelectorAll('.filter-link');\n\nconst ACTIVE_CLASS = 'active';\n\nconst handleFilterClick = (event) => {\n  handleClick(event, { isInitPagination: true });\n  filterLinks.forEach((link) => {\n    if (link.classList.contains(ACTIVE_CLASS)) {\n      link.classList.toggle(ACTIVE_CLASS);\n    }\n  });\n  event.target.classList.toggle(ACTIVE_CLASS);\n};\n\nfilterLinks.forEach((link) => {\n  link.addEventListener('click', handleFilterClick);\n});\n\nexport const getFilters = async (params, isInitPagination) => {\n  const categoriesData = await api.filters.getFilters(params);\n  renderCards(categoriesData, cardsContainer);\n  renderPagination(\n    paginationCallback,\n    params.get(SEARCH_PARAMS.PAGE),\n    categoriesData.totalPages,\n    isInitPagination\n  );\n};\n","export default \"__VITE_ASSET__D4PEZj5i__\"","import spriteUrl from '../images/sprite.svg';\n\nexport const createExerciseCard = (\n  {\n    bodyPart,\n    equipment,\n    gifUrl,\n    name,\n    target,\n    description,\n    rating,\n    burnedCalories,\n    time,\n    popularity,\n    _id,\n  },\n  isFavourite = false\n) => {\n  return (\n    `\n     <li class=\"exercises-card${\n       isFavourite ? ' is-favourite' : ''\n     }\" data-id=\"${_id}\">\n      <div class=\"exercises-top\">\n        <div class=\"exercises-top-group\">\n            <span class=\"exercises-equipment\">${equipment}</span>` +\n    (isFavourite\n      ? `<button class=\"exercises-delete-btn\" data-id=\"${_id}\" type=\"button\">\n            <svg>\n              <use href=\"${spriteUrl}#icon-trash\"></use>\n            </svg>\n          </button>\n          `\n      : `<span class=\"exercises-rating-group\">\n          <span class=\"exercises-rating\">${rating.toFixed(1)}</span>\n          <button class=\"exercises-rating-btn open-exercise-rate-modal\" type=\"button\" data-id=\"${_id}\">\n            <svg>\n              <use href=\"${spriteUrl}#icon-star\"></use>\n            </svg>\n          </button>\n        </span>`) +\n    `</div>\n        <button type=\"button\" class=\"exercises-btn start-btn\" data-id=\"${_id}\">\n          Start\n          <svg width=\"13\" height=\"13\">\n            <use href=\"${spriteUrl}#icon-arrow\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"exercises-content\">\n        <span class=\"exercises-icon\">\n          <svg width=\"14\" height=\"16\">\n            <use href=\"${spriteUrl}#icon-man\"></use>\n          </svg>\n        </span>\n        <h3 class=\"exercises-name\">${name}</h3>\n      </div>\n      <ul class=\"exercises-attributes\">\n        <li><p><span class=\"exercises-attributes-label\">Burned calories:</span><span class=\"exercises-attributes-value\">${burnedCalories} / ${time} min</></p></li>\n        <li><p><span class=\"exercises-attributes-label\">Body part:</span><span class=\"exercises-attributes-value\">${bodyPart}</></p></li>\n        <li><p><span class=\"exercises-attributes-label\">Target:</span><span class=\"exercises-attributes-value\">${target}</></p></li>\n      </ul>\n    </li>\n    `\n  );\n};\n\nexport const renderExercises = (exercises) => {\n  return exercises.results.reduce((acc, exercise) => {\n    return acc + createExerciseCard(exercise);\n  }, '');\n};\n","import api from '../api';\nimport { renderExercises } from '../renderExercises';\nimport { renderPagination, paginationCallback } from '../pagination';\nimport { SEARCH_PARAMS } from '../../main';\n\nconst cardsContainer = document.querySelector('.cards-container');\n\nexport const getExercises = async (params, isInitPagination) => {\n  const exercises = await api.exercises.getExercises(params);\n  const markup = renderExercises(exercises);\n  cardsContainer.innerHTML = `<ul class=\"main-exercises\">${markup}</ul>`;\n  renderPagination(\n    paginationCallback,\n    params.get(SEARCH_PARAMS.PAGE),\n    exercises.totalPages,\n    isInitPagination\n  );\n};\n","const save = (key, value) => {\n  try {\n    let favorites = load(key) || [];\n    if (!favorites.some((favorite) => favorite._id === value._id)) {\n      favorites.push(value);\n      localStorage.setItem(key, JSON.stringify(favorites));\n    }\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nconst remove = (key, id) => {\n  try {\n    let favorites = load(key) || [];\n    favorites = favorites.filter((exercise) => exercise._id !== id);\n    localStorage.setItem(key, JSON.stringify(favorites));\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const favoriteState = localStorage.getItem(key);\n    return favoriteState === null ? [] : JSON.parse(favoriteState);\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import api from '../api';\nimport storageService from '../services/storage';\nimport spriteUrl from '../../images/sprite.svg';\n\nexport function generateStarRating(rating) {\n  const maxStars = 5;\n  let starsMarkup = '<ul class=\"star-rating\">';\n  const roundedRating = Math.round(rating);\n\n  for (let i = 1; i <= maxStars; i++) {\n    if (roundedRating >= i) {\n      starsMarkup += `<li class=\"star full\"><svg class=\"rate-star-icon\" width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-star\"></use></svg></li>`;\n    } else {\n      starsMarkup += `<li class=\"star empty\"><svg class=\"rate-star-icon\" width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-star\"></use></svg></li>`;\n    }\n  }\n\n  starsMarkup += '</ul>';\n  return starsMarkup;\n}\n\nexport function isExerciseFavorite(exerciseId) {\n  const favorites = storageService.load('favorites') || [];\n  return favorites.some((exercise) => exercise._id === exerciseId);\n}\n\nexport function handleAddToRemoveToggle(event) {\n  const button = event.target;\n  const exerciseId = button.getAttribute('data-id');\n  const isFavorite = button.innerHTML.includes('Remove from favorites');\n\n  if (isFavorite) {\n    handleRemoveFromFavorites(exerciseId);\n  } else {\n    handleAddToFavorites(exerciseId);\n  }\n}\n\nexport function handleAddToFavorites(exerciseId) {\n  api.exercises.getExercisesById(exerciseId).then((exercise) => {\n    storageService.save('favorites', exercise);\n\n    const button = document.querySelector('.modal-btn');\n    if (button) {\n      button.innerHTML = `Remove from favorites\n        <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-trash\"></use></svg>`;\n    }\n  });\n}\n\nexport function handleRemoveFromFavorites(exerciseId) {\n  storageService.remove('favorites', exerciseId);\n\n  const button = document.querySelector('.modal-btn');\n  if (button) {\n    button.innerHTML = `Add to favorites\n      <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-heart\"></use></svg>`;\n  }\n}\n","import axios from 'axios';\nimport { handleRemoveFromFavorites } from '../modal/exerciseHelpers.js';\nimport { createExerciseCard } from '../renderExercises.js';\nimport { showLoader, hideLoader } from '../loader.js';\nconst favoritesHTML = document.querySelector('.favorites');\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nexport const remove = async (event) => {\n  const dataId = event.currentTarget.dataset.id;\n  handleRemoveFromFavorites(dataId);\n  const arrEl = event.target.closest('.exercises-card');\n  arrEl.remove();\n};\n\nconst displayData = async (objects) => {\n  const requests = objects.map((item) =>\n    axios.get(`/exercises/${item._id}`).then((response) => response.data)\n  );\n  const exercisesData = await Promise.all(requests);\n  const cards = exercisesData\n    .map((card) => createExerciseCard(card, true))\n    .join('');\n  favoritesHTML.innerHTML = `<ul class=\"favorites-section card-set\">${cards}</ul>`;\n};\n\nexport const getFavorites = async (params) => {\n  showLoader();\n  const favoritesData = localStorage.getItem('favorites');\n  const page = 1;\n  const elemPerPage = 6;\n  const objects = JSON.parse(favoritesData);\n\n  if (objects && objects.length > 0) {\n    const sorted = objects.toSorted();\n\n    if (page !== undefined) {\n      if (page === 1) {\n        const chunk = sorted.slice(0, elemPerPage);\n        displayData(chunk);\n      }\n\n      if (page !== 1) {\n        const startIndex = page - 1 * elemPerPage;\n        const chunk = sorted.slice(startIndex, startIndex + elemPerPage);\n        displayData(chunk);\n      }\n    }\n\n    const requests = sorted.map((item) =>\n      axios.get(`/exercises/${item['_id']}`).then((response) => response.data)\n    );\n    const exercisesData = await Promise.all(requests);\n    const cards = exercisesData\n      .map((card) => createExerciseCard(card, true))\n      .join('');\n    favoritesHTML.innerHTML = `<ul class=\"favorites-section card-set\">${cards}</ul>`;\n  } else {\n    favoritesHTML.innerHTML = `<p class=\"not-exist\">It appears that you haven't added any exercises to your favorites yet.\n    To get started, you can add exercises that you like to your favorites for easier access in the future.\n    </p>`;\n  }\n\n  const buttons = document.querySelectorAll('.exercises-delete-btn');\n\n  buttons.forEach((button) => {\n    button.addEventListener('click', remove);\n  });\n  hideLoader();\n};\n","import api from '../api';\n\nfunction getQuoteExpireTime() {\n  const expiryDate = new Date(Date.now() + 12 * (60 * 60 * 1000));\n  return expiryDate.getTime();\n}\n\nfunction isNeedToUpdate(time) {\n  if (!time) {\n    return true;\n  }\n  return time < Date.now();\n}\n\nexport async function fetchQuote() {\n  // fetch api function\n  try {\n    const apiResult = await api.quotes.getQuote();\n    apiResult.expire = getQuoteExpireTime();\n    localStorage.setItem('quote', JSON.stringify(apiResult));\n    return apiResult;\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}\n\nasync function getQuoteInfo() {\n  const localQuote = localStorage.getItem('quote');\n  if (!localQuote) {\n    return await fetchQuote();\n  }\n\n  const quoteInfo = JSON.parse(localQuote);\n  if (isNeedToUpdate(quoteInfo.expire)) {\n    return await fetchQuote();\n  }\n\n  return quoteInfo;\n}\n\nasync function updateQuote() {\n  const quoteText = document.querySelector('.js-qofd');\n  const quoteAuthor = document.querySelector('.quote-author');\n  const quote = await getQuoteInfo();\n  if (!(quoteText && quoteAuthor)) {\n    localStorage.removeItem('quote');\n    return;\n  }\n  if (!quote) {\n    return;\n  }\n  quoteText.textContent = quote.quote;\n  quoteAuthor.textContent = quote.author;\n}\n\nexport { updateQuote };\n","let resizeTimeout;\nimport { getExercisesLimit, getCategoriesLimit } from '../services/limit';\nimport {\n  defaultParams,\n  pushState,\n  SEARCH_PARAMS,\n  updateParameter,\n} from '../../main';\nimport { getFilters } from '../pages/home';\n\nexport function updateLinkParams() {\n  const limit = getCategoriesLimit();\n  const filterLinks = document.querySelectorAll('.filter-link');\n  if (filterLinks) {\n    filterLinks.forEach((link) => {\n      link.dataset.limit = limit;\n    });\n  }\n}\n\nconst handleResize = () => {\n  const { search, pathname } = window.location;\n  if (pathname.includes('favorites')) {\n    return;\n  }\n  if (!search) {\n    const limit = getCategoriesLimit();\n    defaultParams.set(SEARCH_PARAMS.LIMIT, limit);\n    updateLinkParams();\n    getFilters(defaultParams, true);\n    return;\n  }\n  if (search.includes(SEARCH_PARAMS.FILTER)) {\n    const limit = getCategoriesLimit();\n    const url = updateParameter(SEARCH_PARAMS.LIMIT, limit);\n    updateLinkParams();\n    pushState(url, {\n      isInitPagination: true,\n    });\n    return;\n  }\n  const limit = getExercisesLimit();\n  updateLinkParams();\n  const url = updateParameter(SEARCH_PARAMS.LIMIT, limit);\n  pushState(url, {\n    isInitPagination: true,\n  });\n};\n\nexport function handlePageReloader() {\n  addEventListener('resize', (e) => {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      handleResize();\n    }, 100);\n  });\n}\n","import { pushState } from '../../main';\nimport icons from '../../images/sprite.svg';\n\nfunction debounce(f, t) {\n  return function (args) {\n    let previousCall = this.lastCall;\n    this.lastCall = Date.now();\n    if (previousCall && this.lastCall - previousCall <= t) {\n      clearTimeout(this.lastCallTimer);\n    }\n    this.lastCallTimer = setTimeout(() => f(args), t);\n  };\n}\n\nfunction onSearch(e) {\n  const searchQuery = e.target.value.trim();\n  const url = new URL(window.location.href);\n  url.searchParams.set('keyword', searchQuery);\n  url.searchParams.set('page', 1);\n  pushState(url, {\n    isInitPagination: true,\n  });\n}\n\nexport const appendSearch = (urlParams) => {\n  const filtersContainerEl = document.querySelector('.main-filters-container');\n  if (filtersContainerEl) {\n    const searchContainerEl = document.createElement('div');\n    searchContainerEl.classList.add('search-container');\n    searchContainerEl.innerHTML = `<input class=\"search-exercises\" type=\"text\" id=\"search\" name=\"search\" placeholder=\"Search\" /><svg class=\"search-icon\" width=\"18\" height=\"18\"><use href=\"${icons}#icon-search\"></use></svg>`;\n    filtersContainerEl.prepend(searchContainerEl);\n    const searchEl = document.querySelector('.search-exercises');\n    searchEl.addEventListener('input', debounce(onSearch, 500));\n  }\n};\n\nexport const removeSearch = () => {\n  const searchContainerEl = document.querySelector('.search-container');\n  if (searchContainerEl) {\n    searchContainerEl.remove();\n  }\n};\n","export const appendBreadcrumbs = (categoryName) => {\n  const breadcrumbEl = document.querySelector('.main-exercises-breadcrumbs');\n  if (breadcrumbEl) {\n    const searchContainerEl = document.createElement('div');\n    searchContainerEl.classList.add('main-breadcrumb-title');\n    searchContainerEl.innerHTML = ` / <span>${categoryName}</span>`;\n    breadcrumbEl.append(searchContainerEl);\n  }\n};\n\nexport const removeBreadcrumbs = () => {\n  const breadcrumbTitleEl = document.querySelector('.main-breadcrumb-title');\n  if (breadcrumbTitleEl) {\n    breadcrumbTitleEl.remove();\n  }\n};\n","const navLinks = document.querySelectorAll('.router-link');\n\nexport function setActiveLink(base) {\n  const currentPath = window.location.pathname;\n  navLinks.forEach((link) => {\n    const linkTarget = link.getAttribute('href');\n    if (linkTarget === './') {\n      currentPath === '/' || currentPath === base + '/'\n        ? link.classList.add('active')\n        : link.classList.remove('active');\n    }\n    if (linkTarget === './favorites') {\n      currentPath.includes('favorites')\n        ? link.classList.add('active')\n        : link.classList.remove('active');\n      return;\n    }\n  });\n}\n\nexport function burgerMenuHandler() {\n  const burgerMenuButton = document.querySelector('.burger-menu');\n  const burgerMenuContent = document.querySelector('.burger-menu-content');\n  const closeMenuButton = document.querySelector('.close-menu');\n\n  document.addEventListener('click', (e) => {\n    if (\n      burgerMenuContent.classList.contains('open') &&\n      !burgerMenuContent.contains(e.target) &&\n      !burgerMenuButton.contains(e.target)\n    ) {\n      burgerMenuContent.classList.remove('open');\n      document.body.style.overflow = '';\n    }\n  });\n  if (burgerMenuButton) {\n    burgerMenuButton.addEventListener('click', () => {\n      burgerMenuContent.classList.add('open');\n      document.body.style.overflow = 'hidden';\n    });\n  }\n\n  if (closeMenuButton) {\n    closeMenuButton.addEventListener('click', () => {\n      burgerMenuContent.classList.remove('open');\n      document.body.style.overflow = '';\n    });\n  }\n}\n","export const refs = {\n  // modal\n  startModal: document.querySelector('body'),\n  backdrop: document.querySelector('.backdrop'),\n  closeModalBtn: document.querySelector('.modal-close-btn'),\n  modalEl: document.querySelector('.modal-container'),\n  rateBtn: document.querySelector('.rate-btn'),\n  // rate modal\n  rateBackdrop: document.querySelector('.rate-backdrop'),\n  rateCloseModalBtn: document.querySelector('.rate-modal-close-btn'),\n  rateModalEl: document.querySelector('.rate-modal-container'),\n  rateValue: document.querySelector('.rate-modal-selected-value'),\n\n  // header\n\n  // footer\n  subscribeForm: document.querySelector('.subscribe-form'),\n  emailInput: document.querySelector('.subscribe-form input[type=\"email\"]'),\n  submitButton: document.querySelector('.subscribe-form button[type=\"submit\"]'),\n};\n","import { refs } from '../refs';\nimport api from '../api';\nimport spriteUrl from '../../images/sprite.svg';\nimport {\n  generateStarRating,\n  isExerciseFavorite,\n  handleAddToRemoveToggle,\n} from './exerciseHelpers';\n\nexport default async function renderExerciseById(exerciseId) {\n  refs.modalEl.innerHTML = '';\n\n  try {\n    const exercise = await api.exercises.getExercisesById(exerciseId);\n    const {\n      _id,\n      bodyPart,\n      equipment,\n      gifUrl,\n      name,\n      target,\n      description,\n      burnedCalories,\n      popularity,\n      rating,\n    } = exercise;\n\n    const isFavorite = isExerciseFavorite(_id);\n    const starRatingMarkup = generateStarRating(rating);\n\n    const modalMarkup = `<div class=\"modal-info\">\n      <img class=\"exercise-img\" src=\"${\n        gifUrl || 'Oops, there is no video for this exercise'\n      }\" alt=\"${name}\" />\n      <div class=\"modal-info-box\">\n        <h2 class=\"exercise-title\">${name}</h2>\n        <div class=\"exercise-rating\">${rating.toFixed(\n          1\n        )}${starRatingMarkup}</div>\n        <ul class=\"exercise-set\">\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Target</h3><p class=\"item-description\">${target}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Body Part</h3><p class=\"item-description\">${bodyPart}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Equipment</h3><p class=\"item-description\">${equipment}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Popular</h3><p class=\"item-description\">${popularity}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Burned Calories</h3><p class=\"item-description\">${burnedCalories}</p></li>\n        </ul>\n        <p class=\"exercise-description\">${\n          description || 'We hope you will enjoy it'\n        }</p> \n      <div class=\"btn-wrap\">\n      <button type=\"button\" class=\"modal-btn\" data-id=\"${_id}\">\n        ${\n          isFavorite\n            ? `Remove from favorites\n          <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-trash\"></use></svg>`\n            : `Add to favorites\n          <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-heart\"></use></svg>`\n        }\n      </button>\n      <button type=\"button\" class=\"modal-btn rate-btn open-exercise-rate-modal\" data-id=\"${_id}\">Give a rating</button>\n      </div>\n      </div>\n    </div>`;\n\n    refs.modalEl.innerHTML = modalMarkup;\n\n    const button = document.querySelector('.modal-btn');\n    if (button) {\n      button.removeEventListener('click', handleAddToRemoveToggle);\n      button.addEventListener('click', handleAddToRemoveToggle);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { refs } from '../refs';\nimport renderExerciseById from './renderExercise';\nimport { getFavorites } from '../favorites/favorites-api';\nrefs.startModal.addEventListener('click', handleOpenModal);\n\nfunction handleOpenModal(event) {\n  if (!event.target.closest('.start-btn')) return;\n  const exerciseId = event.target.closest('.start-btn').getAttribute('data-id');\n\n  openModal(exerciseId);\n}\n\nexport function openModal(exerciseId) {\n  refs.backdrop.classList.remove('is-hidden');\n  refs.backdrop.addEventListener('click', handleBackdropClick);\n  refs.closeModalBtn.addEventListener('click', handleCloseModal);\n  window.addEventListener('keydown', handleEscKey);\n\n  document.body.style.overflowY = 'hidden';\n  renderExerciseById(exerciseId);\n}\n\nexport function handleCloseModal() {\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.backdrop.removeEventListener('click', handleBackdropClick);\n  refs.closeModalBtn.removeEventListener('click', handleCloseModal);\n  window.removeEventListener('keydown', handleEscKey);\n\n  refs.modalEl.innerHTML = '';\n  document.body.style.overflowY = 'auto';\n  const favorites = document.querySelector('.favorites');\n  if (favorites) {\n    getFavorites();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    handleCloseModal();\n  }\n}\n\nfunction handleEscKey(event) {\n  if (event.code === 'Escape') {\n    handleCloseModal();\n  }\n}\n","import { refs } from '../refs';\nimport api from '../api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\nexport function handleSubscription() {\n  const subscribeForm = refs.subscribeForm;\n  const emailInput = refs.emailInput;\n  const submitButton = refs.submitButton;\n\n  if (!subscribeForm) {\n    return;\n  }\n\n  subscribeForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const emailValue = emailInput.value.trim();\n\n    if (!emailPattern.test(emailValue)) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a valid email address.',\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      return;\n    }\n\n    try {\n      const response = await api.subscription.subscribe(emailValue);\n\n      iziToast.success({\n        title: 'Success',\n        message: response.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      event.target.reset();\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    }\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  handleSubscription();\n});\n","export function setupScrollToTop() {\n  const scrollToTopButton = document.getElementById('scroll-to-top');\n\n  if (!scrollToTopButton) {\n    return;\n  }\n\n  scrollToTopButton.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\n\nexport function setupLogoAnimation() {\n  const logo = document.getElementById('logo');\n\n  if (!logo) {\n    return;\n  }\n\n  logo.addEventListener('click', () => {\n    logo.style.transition = 'transform 0.5s ease-in-out';\n    logo.style.transform = 'scale(1.2)';\n    setTimeout(() => {\n      logo.style.transform = 'scale(1)';\n    }, 500);\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupScrollToTop();\n  setupLogoAnimation();\n});\n","import { refs } from '../refs';\nimport api from '../api';\nimport spriteUrl from '../../images/sprite.svg';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { handleCloseModal, openModal } from './modal';\n\nrefs.startModal.addEventListener('click', handleOpenRateModal);\n\nconst createRateBtn = (rate) => {\n  return `<li class=\"rate-modal-star-item\"><input class=\"rate-modal-radio\" type=\"radio\" id=\"star${rate}\" name=\"rate\" value=\"${rate}\">\n  <label for=\"star${rate}\" class=\"rate-modal-label\">\n        <svg class=\"star-icon\" aria-hidden=\"true\">\n          <use href=\"${spriteUrl}#icon-star\"></use>\n        </svg>\n      </label></li>`;\n};\n\nlet isEnteredFromModal = false;\n\nasync function handleOpenRateModal(event) {\n  if (!event.target.closest('.open-exercise-rate-modal')) return;\n  const exerciseId = event.target\n    .closest('.open-exercise-rate-modal')\n    .getAttribute('data-id');\n\n  isEnteredFromModal = !refs.backdrop.classList.contains('is-hidden');\n  if (isEnteredFromModal) {\n    handleCloseModal();\n  }\n  refs.rateBackdrop.classList.remove('is-hidden');\n  refs.rateBackdrop.addEventListener('click', handleBackdropClick);\n  refs.rateCloseModalBtn.addEventListener('click', handleCloseRateModal);\n  window.addEventListener('keydown', handleEscKey);\n\n  let markup = '';\n\n  for (let i = 1; i <= 5; i++) {\n    markup += createRateBtn(i);\n  }\n\n  const res = await api.exercises.getExercisesById(exerciseId);\n  refs.rateValue.textContent = res.rating.toFixed(1);\n\n  const container = document.querySelector('.rate-modal-stars');\n  refs.rateModalEl.setAttribute('data-id', exerciseId);\n\n  document.body.style.overflowY = 'hidden';\n  container.innerHTML = markup;\n}\n\nfunction handleCloseRateModal() {\n  refs.rateBackdrop.classList.toggle('is-hidden');\n  refs.rateBackdrop.removeEventListener('click', handleBackdropClick);\n  refs.rateCloseModalBtn.removeEventListener('click', handleCloseRateModal);\n  window.removeEventListener('keydown', handleEscKey);\n\n  if (isEnteredFromModal) {\n    openModal(refs.rateModalEl.getAttribute('data-id'));\n  }\n\n  refs.rateModalEl.reset();\n  document.body.style.overflowY = 'auto';\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    handleCloseRateModal();\n  }\n}\n\nfunction handleEscKey(event) {\n  if (event.code === 'Escape') {\n    handleCloseRateModal();\n  }\n}\n\nconst emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\nconst handleRateSubmit = async (e) => {\n  e.preventDefault();\n  const email = e.target.elements.email.value.trim();\n  const rate = e.target.elements.rate.value;\n  const review = e.target.elements.review.value;\n  if (!rate) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please rate the exercise.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  if (!review) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please leave a review.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  if (!email || !emailPattern.test(email)) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a valid email address.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  const exerciseId = refs.rateModalEl.getAttribute('data-id');\n\n  const body = {\n    rate: Number(rate),\n    email,\n    review,\n  };\n\n  const res = await api.exercises.addExerciseRatingById(exerciseId, body);\n\n  if (res) {\n    e.target.reset();\n\n    handleCloseRateModal();\n  }\n};\n\nrefs.rateModalEl.addEventListener('submit', handleRateSubmit);\n","const anchor = document.querySelector('.scroll-to-top');\n\nif (anchor) {\n  document.addEventListener('scroll', function () {\n    if (!anchor) {\n      return;\n    }\n    if (window.scrollY === 0) {\n      anchor.style.transform = 'rotate(135deg)';\n    } else {\n      anchor.style.transform = 'rotate(-45deg)';\n    }\n  });\n\n  const handleScrollBtn = () => {\n    if (window.scrollY === 0) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    } else {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    }\n  };\n  if (anchor) {\n    anchor.addEventListener('click', handleScrollBtn);\n  }\n}\n","import { getFilters } from './js/pages/home';\nimport { getExercises } from './js/pages/exercises';\nimport { getFavorites } from './js/favorites/favorites-api';\nimport { updateQuote } from './js/quote/quote';\nimport { getCategoriesLimit } from './js/services/limit';\nimport { handlePageReloader, updateLinkParams } from './js/reloader/reloader';\nimport { appendSearch, removeSearch } from './js/search/search';\nimport {\n  appendBreadcrumbs,\n  removeBreadcrumbs,\n} from './js/breadcrumbs/breadcrumbs';\n\nimport './api-example';\nimport './js/header/burger-menu';\nimport './js/modal/modal';\nimport './js/footer/subscription';\nimport './js/footer/animation';\nimport './js/modal/rateModal';\nimport './js/scrollToTop';\nimport { setActiveLink, burgerMenuHandler } from './js/header/burger-menu';\n\nconst basePath = import.meta.env.BASE_URL.slice(0, -1);\n\nexport const SEARCH_PARAMS = {\n  FILTER: 'filter',\n  PAGE: 'page',\n  LIMIT: 'limit',\n  NAME: 'name',\n  KEYWORD: 'keyword',\n};\n\nexport const FILTERS = {\n  MUSCLES: 'Muscles',\n  BODY_PARTS: 'Body parts',\n  EQUIPMENT: 'Equipment',\n};\n\nexport const FILTERS_MAPPER = {\n  [FILTERS.MUSCLES]: 'muscles',\n  [FILTERS.BODY_PARTS]: 'bodypart',\n  [FILTERS.EQUIPMENT]: 'equipment',\n};\n\nexport const defaultParamsArray = [\n  [SEARCH_PARAMS.FILTER, FILTERS.MUSCLES],\n  [SEARCH_PARAMS.PAGE, 1],\n  [SEARCH_PARAMS.LIMIT, getCategoriesLimit()],\n];\n\nexport const defaultParams = new URLSearchParams(defaultParamsArray);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setActiveLink(basePath);\n  updateLinkParams();\n  const { pathname, search } = window.location;\n  if (pathname === `${basePath}/` && !search) {\n    getFilters(defaultParams, true);\n    return;\n  } else if (pathname.includes('favorites')) {\n    getFavorites();\n    return;\n  }\n  handleLocation(true);\n});\n\nexport const getUrl = (event) => {\n  event.preventDefault();\n  const url = new URL(event.currentTarget.href);\n  url.pathname = `${basePath}${url.pathname}`;\n  return url;\n};\n\nexport const setParams = (event, url) => {\n  const dataset = event.currentTarget.dataset;\n  const searchKeys = [\n    ...Object.values(SEARCH_PARAMS),\n    ...Object.values(FILTERS_MAPPER),\n  ];\n  Object.keys(dataset).forEach((key) => {\n    if (searchKeys.includes(key)) {\n      url.searchParams.set(key, dataset[key]);\n    }\n  });\n};\n\nexport const handleLocation = async (isInitPagination) => {\n  const { search } = window.location;\n  const urlParams = new URLSearchParams(search);\n\n  if (!urlParams.has(SEARCH_PARAMS.FILTER)) {\n    const searchEl = document.querySelector('.search-exercises');\n    const breadcrumbEl = document.querySelector('.main-breadcrumb-title');\n\n    if (!breadcrumbEl) {\n      appendBreadcrumbs(urlParams.get('name'));\n    }\n    if (!searchEl) {\n      appendSearch(urlParams);\n    }\n    getExercises(urlParams, isInitPagination || history.state.isInitPagination);\n    return;\n  }\n  getFilters(urlParams, isInitPagination || history.state.isInitPagination);\n  removeSearch();\n  removeBreadcrumbs();\n};\n\nexport const pushState = (url, state = {}) => {\n  window.history.pushState(state, '', url);\n  handleLocation();\n};\n\nexport const handleClick = (event, state = {}) => {\n  const url = getUrl(event);\n  setParams(event, url);\n  pushState(url, state);\n};\n\nexport const addListener = (selector, callback) => {\n  let elements;\n  if (typeof selector === 'string') {\n    elements = document.querySelectorAll(selector);\n  } else {\n    elements = selector;\n  }\n\n  elements.forEach((link) => {\n    link.addEventListener('click', callback);\n  });\n  return elements;\n};\n\nexport const updateParameter = (key, value, isSetDefault = false) => {\n  const { href, search } = window.location;\n  const url = new URL(href);\n  if (isSetDefault && !search) {\n    defaultParamsArray.forEach(([key, value]) => {\n      url.searchParams.set(key, value);\n    });\n  }\n  url.searchParams.set(key, value);\n  return url;\n};\n\nburgerMenuHandler();\nupdateQuote();\nhandlePageReloader();\nwindow.addEventListener('popstate', handleLocation);\n"],"names":["loader","showLoader","hideLoader","ExercisesService","axios","__privateAdd","_ExercisesService_instances","_basePath","_axios","_page","_filter","_name","__privateSet","__privateGet","value","params","data","error","iziToast","_b","_a","id","body","__privateMethod","validateBodyForRating_fn","rate","email","review","_FiltersService","__publicField","FiltersService","QuotesService","SubscriptionService","_SubscriptionService_instances","validateEmail_fn","initAPI","host","config","instance","options","api","BREAKPOINTS","getExercisesLimit","getCategoriesLimit","createCard","filter","name","imgURL","FILTERS_MAPPER","renderCards","element","markup","addListener","event","handleClick","totalPages","currentPage","prevBtn","nextBtn","firstBtn","lastBtn","pageInfo","initPagination","callback","current","total","renderPagination","goToPage","isInitPagination","pages","i","startPage","endPage","page","button","paginationCallback","url","updateParameter","SEARCH_PARAMS","pushState","handleLocation","cardsContainer","filterLinks","ACTIVE_CLASS","handleFilterClick","link","getFilters","categoriesData","spriteUrl","createExerciseCard","bodyPart","equipment","gifUrl","target","description","rating","burnedCalories","time","popularity","_id","isFavourite","renderExercises","exercises","acc","exercise","getExercises","save","key","favorites","load","favorite","err","remove","favoriteState","storageService","generateStarRating","starsMarkup","roundedRating","isExerciseFavorite","exerciseId","handleAddToRemoveToggle","handleRemoveFromFavorites","handleAddToFavorites","favoritesHTML","dataId","displayData","objects","requests","item","response","cards","card","getFavorites","favoritesData","elemPerPage","sorted","chunk","getQuoteExpireTime","isNeedToUpdate","fetchQuote","apiResult","e","getQuoteInfo","localQuote","quoteInfo","updateQuote","quoteText","quoteAuthor","quote","resizeTimeout","updateLinkParams","limit","handleResize","search","pathname","defaultParams","handlePageReloader","debounce","f","t","args","previousCall","onSearch","searchQuery","appendSearch","urlParams","filtersContainerEl","searchContainerEl","icons","removeSearch","appendBreadcrumbs","categoryName","breadcrumbEl","removeBreadcrumbs","breadcrumbTitleEl","navLinks","setActiveLink","base","currentPath","linkTarget","burgerMenuHandler","burgerMenuButton","burgerMenuContent","closeMenuButton","refs","renderExerciseById","isFavorite","starRatingMarkup","modalMarkup","handleOpenModal","openModal","handleBackdropClick","handleCloseModal","handleEscKey","emailPattern","handleSubscription","subscribeForm","emailInput","emailValue","setupScrollToTop","scrollToTopButton","setupLogoAnimation","logo","handleOpenRateModal","createRateBtn","isEnteredFromModal","handleCloseRateModal","res","container","handleRateSubmit","anchor","handleScrollBtn","basePath","FILTERS","defaultParamsArray","getUrl","setParams","dataset","searchKeys","searchEl","state","selector","elements","isSetDefault","href"],"mappings":"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"}