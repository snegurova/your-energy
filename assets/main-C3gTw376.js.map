{"version":3,"file":"main-C3gTw376.js","sources":["../../src/js/loader.js","../../src/js/api/ExercisesService.js","../../src/js/api/FiltersService.js","../../src/js/api/QuotesService.js","../../src/js/api/SubscriptionService.js","../../src/js/api/index.js","../../src/js/services/limit.js","../../src/js/categories/render-template.js","../../src/js/categories/categories-api.js","../../src/js/pagination.js","../../src/js/pages/home.js","../../src/images/sprite.svg","../../src/js/renderExercises.js","../../src/js/pages/exercises.js","../../src/js/services/storage.js","../../src/js/modal/exerciseHelpers.js","../../src/js/favorites/favorites-api.js","../../src/js/quote/quote.js","../../src/js/reloader/reloader.js","../../src/js/search/search.js","../../src/js/breadcrumbs/breadcrumbs.js","../../src/js/header/burger-menu.js","../../src/js/refs.js","../../src/js/modal/renderExercise.js","../../src/js/modal/modal.js","../../src/js/footer/subscription.js","../../src/js/footer/animation.js","../../src/js/modal/rateModal.js","../../src/js/scrollToTop.js","../../src/js/svgxuse.js","../../src/main.js"],"sourcesContent":["const loader = document.querySelector('.spinner');\n\nexport function showLoader() {\n    loader.classList.remove('hide');\n}\n\nexport function hideLoader() {\n    loader.classList.add('hide');\n    \n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { hideLoader, showLoader } from '../loader';\n\n/**\n * Service class to interact with exercises API.\n */\nexport default class ExercisesService {\n  #basePath = '/exercises';\n  #axios;\n\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  async getExercises(params) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(this.#basePath, { params });\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  async getExercisesById(id) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(`${this.#basePath}/${id}`);\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  async addExerciseRatingById(id, body) {\n    try {\n      showLoader();\n      this.#validateBodyForRating(body);\n      const { data } = await this.#axios.patch(\n        `${this.#basePath}/${id}/rating`,\n        body\n      );\n      iziToast.success({\n        title: 'Success',\n        message: 'Rating added successfully',\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      return data;\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    } finally {\n      hideLoader();\n    }\n  }\n\n  #validateBodyForRating(body) {\n    const { rate, email, review } = body;\n\n    if (!rate || rate < 1 || rate > 5) {\n      const error = new Error('Rate must be between 1 and 5');\n      error.code = 'INVALID_RATE';\n      throw error;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email || !emailRegex.test(email)) {\n      const error = new Error('A valid email is required');\n      error.code = 'INVALID_EMAIL';\n      throw error;\n    }\n\n    if (!review || review.length < 5) {\n      const error = new Error('Review must be at least 5 characters long');\n      error.code = 'INVALID_REVIEW';\n      throw error;\n    }\n  }\n}\n","import { hideLoader, showLoader } from '../loader';\n\n/**\n * Service class to interact with filters API.\n */\nexport default class FiltersService {\n  #basePath = '/filters';\n  #axios;\n\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  async getFilters(params) {\n    try {\n      showLoader();\n      const { data } = await this.#axios.get(this.#basePath, { params });\n      return data;\n    } catch (error) {\n      throw error;\n    } finally {\n      hideLoader();\n    }\n  }\n}\n","/**\n * Service class to interact with quotes API.\n */\nexport default class QuotesService {\n  #basePath = '/quote';\n  #axios;\n\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  async getQuote() {\n    try {\n      const { data } = await this.#axios.get(this.#basePath);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n","/**\n * Service class to handle subscription functionality via email.\n */\nexport default class SubscriptionService {\n  #basePath = '/subscription';\n  #axios;\n\n  constructor(axios) {\n    this.#axios = axios;\n  }\n\n  async subscribe(email) {\n    try {\n      this.#validateEmail(email);\n      const { data } = await this.#axios.post(this.#basePath, { email });\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  #validateEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email || !emailRegex.test(email)) {\n      const error = new Error('A valid email is required');\n      error.code = 'INVALID_EMAIL';\n      throw error;\n    }\n  }\n}\n","import axios from 'axios';\n\nimport ExercisesService from './ExercisesService';\nimport FiltersService from './FiltersService';\nimport QuotesService from './QuotesService';\nimport SubscriptionService from './SubscriptionService';\n\nconst initAPI = ({ host }) => {\n  const config = {\n    baseURL: host,\n    timeout: 1000 * 60 * 20,\n    headers: {\n      common: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n    },\n  };\n\n  const instance = axios.create(config);\n\n  return {\n    axiosInstance: instance,\n    exercises: new ExercisesService(instance),\n    filters: new FiltersService(instance),\n    quotes: new QuotesService(instance),\n    subscription: new SubscriptionService(instance),\n  };\n};\n\nconst options = {\n  host: 'https://your-energy.b.goit.study/api/',\n};\n\nconst api = initAPI(options);\n\nexport default api;\n","export const BREAKPOINTS = {\n  tablet: 768,\n};\n\nexport function getExercisesLimit() {\n  if (screen.width < BREAKPOINTS.tablet) {\n    return 8;\n  }\n  return 10;\n}\n\nexport function getCategoriesLimit() {\n  if (screen.width < BREAKPOINTS.tablet) {\n    return 9;\n  }\n  return 12;\n}\n","import { FILTERS_MAPPER } from '../../main';\n\nimport { getExercisesLimit } from '../services/limit';\nexport const createCard = ({ filter, name, imgURL }) => {\n  const dataFilter = `data-${FILTERS_MAPPER[filter]}=\"${name}\"`;\n  return `\n  <li class=\"category-card\">\n    <a href=\"/\" class=\"router-link category-link\"\n      ${dataFilter}\n      data-page=\"1\"\n      data-limit=\"${getExercisesLimit()}\"\n      data-name=${name}\n    >\n      <div class=\"category-card-description\">\n        <span class=\"category-card-title\">${name}</span>\n        <span class=\"category-card-filter\">${filter}</span>\n      </div>\n      <img loading=\"lazy\" class=\"category-image\" src=\"${imgURL}\" alt=\"${name}\" width=\"290\" height=\"242\" />\n    </a>\n  </li>\n`;\n};\n","import { createCard } from './render-template';\nimport { addListener, handleClick } from '../../main';\n\nexport const renderCards = (data, element) => {\n  if (!element) {\n    return;\n  }\n  const markup = data.results.map(createCard).join('');\n  element.innerHTML = `<ul class=\"category-list\">${markup}</ul>`;\n  addListener('.category-link', (event) =>\n    handleClick(event, {\n      isInitPagination: true,\n    })\n  );\n};\n","import {\n  updateParameter,\n  pushState,\n  SEARCH_PARAMS,\n  handleLocation,\n} from '../main';\n\nlet totalPages;\nlet currentPage;\n\nconst prevBtn = document.getElementById('prev-btn');\nconst nextBtn = document.getElementById('next-btn');\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\nconst pageInfo = document.getElementById('page-info');\n\nexport const initPagination = (callback, current, total) => {\n  currentPage = +current;\n  totalPages = total;\n\n  renderPagination(callback);\n\n  firstBtn.addEventListener('click', () => goToPage(1, callback));\n  prevBtn.addEventListener('click', () =>\n    goToPage(currentPage === 1 ? 1 : currentPage - 1, callback)\n  );\n  nextBtn.addEventListener('click', () =>\n    goToPage(\n      currentPage === totalPages ? totalPages : currentPage + 1,\n      callback\n    )\n  );\n  lastBtn.addEventListener('click', () => goToPage(totalPages, callback));\n};\n\nexport const renderPagination = (\n  callback,\n  current,\n  total,\n  isInitPagination\n) => {\n  if (!pageInfo || (!current && !total) || !callback) {\n    return;\n  }\n\n  if ((!currentPage && !totalPages) || isInitPagination) {\n    initPagination(callback, current, total);\n  }\n\n  let pages = [];\n  if (totalPages <= 3) {\n    for (let i = 1; i <= totalPages; i++) {\n      pages.push(i);\n    }\n  } else {\n    if (currentPage > 2) {\n      pages.push(1);\n      pages.push('...');\n    }\n\n    let startPage = Math.max(1, currentPage - 1);\n    let endPage = Math.min(totalPages, currentPage + 1);\n\n    if (currentPage === 1) {\n      endPage = 3;\n    } else if (currentPage === totalPages) {\n      startPage = totalPages - 2;\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(i);\n    }\n\n    if (currentPage < totalPages - 1) {\n      pages.push('...');\n      pages.push(totalPages);\n    }\n  }\n\n  pageInfo.innerHTML = pages\n    .map((page) => {\n      if (page === '...') {\n        return `<span class=\"dots\">${page}</span>`;\n      }\n      return `<button value=\"${page}\" class=\"pagination-btn page-number ${\n        page === currentPage ? 'active' : ''\n      }\" data-page=\"${page}\" value=\"${page}\"><span class=\"numbers button-content ${\n        page > 9 ? 'large' : ''\n      }\">${page}</span></button>`;\n    })\n    .join(' ');\n\n  document.querySelectorAll('.page-number').forEach((button) => {\n    button.addEventListener('click', (event) => {\n      goToPage(Number(event.currentTarget.value), callback);\n    });\n  });\n};\n\nasync function goToPage(page, callback) {\n  currentPage = page;\n  callback(page);\n  renderPagination(callback);\n}\n\nexport const paginationCallback = (page) => {\n  const url = updateParameter(SEARCH_PARAMS.PAGE, page, true);\n  pushState(url);\n  handleLocation();\n};\n","import api from '../api';\nimport { renderCards } from '../categories/categories-api';\nimport { handleClick, SEARCH_PARAMS } from '../../main';\nimport { renderPagination, paginationCallback } from '../pagination';\nconst cardsContainer = document.querySelector('.cards-container');\nconst filterLinks = document.querySelectorAll('.filter-link');\n\nconst ACTIVE_CLASS = 'active';\n\nconst handleFilterClick = (event) => {\n  handleClick(event, { isInitPagination: true });\n  filterLinks.forEach((link) => {\n    if (link.classList.contains(ACTIVE_CLASS)) {\n      link.classList.toggle(ACTIVE_CLASS);\n    }\n  });\n  event.target.classList.toggle(ACTIVE_CLASS);\n};\n\nfilterLinks.forEach((link) => {\n  link.addEventListener('click', handleFilterClick);\n});\n\nexport const getFilters = async (params, isInitPagination) => {\n  const categoriesData = await api.filters.getFilters(params);\n  renderCards(categoriesData, cardsContainer);\n  renderPagination(\n    paginationCallback,\n    params.get(SEARCH_PARAMS.PAGE),\n    categoriesData.totalPages,\n    isInitPagination\n  );\n};\n","export default \"__VITE_ASSET__D4PEZj5i__\"","import spriteUrl from '../images/sprite.svg';\n\nexport const createExerciseCard = (\n  {\n    bodyPart,\n    equipment,\n    gifUrl,\n    name,\n    target,\n    description,\n    rating,\n    burnedCalories,\n    time,\n    popularity,\n    _id,\n  },\n  isFavourite = false\n) => {\n  return (\n    `\n     <li class=\"exercises-card${\n       isFavourite ? ' is-favourite' : ''\n     }\" data-id=\"${_id}\">\n      <div class=\"exercises-top\">\n        <div class=\"exercises-top-group\">\n            <span class=\"exercises-equipment\">${equipment}</span>` +\n    (isFavourite\n      ? `<button class=\"exercises-delete-btn\" data-id=\"${_id}\" type=\"button\">\n            <svg>\n              <use href=\"${spriteUrl}#icon-trash\"></use>\n            </svg>\n          </button>\n          `\n      : `<span class=\"exercises-rating-group\">\n          <span class=\"exercises-rating\">${rating.toFixed(1)}</span>\n          <button class=\"exercises-rating-btn open-exercise-rate-modal\" type=\"button\" data-id=\"${_id}\">\n            <svg>\n              <use href=\"${spriteUrl}#icon-star\"></use>\n            </svg>\n          </button>\n        </span>`) +\n    `</div>\n        <button type=\"button\" class=\"exercises-btn start-btn\" data-id=\"${_id}\">\n          Start\n          <svg width=\"13\" height=\"13\">\n            <use href=\"${spriteUrl}#icon-arrow\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"exercises-content\">\n        <span class=\"exercises-icon\">\n          <svg width=\"14\" height=\"16\">\n            <use href=\"${spriteUrl}#icon-man\"></use>\n          </svg>\n        </span>\n        <h3 class=\"exercises-name\">${name}</h3>\n      </div>\n      <ul class=\"exercises-attributes\">\n        <li><p><span class=\"exercises-attributes-label\">Burned calories:</span><span class=\"exercises-attributes-value\">${burnedCalories} / ${time} min</></p></li>\n        <li><p><span class=\"exercises-attributes-label\">Body part:</span><span class=\"exercises-attributes-value\">${bodyPart}</></p></li>\n        <li><p><span class=\"exercises-attributes-label\">Target:</span><span class=\"exercises-attributes-value\">${target}</></p></li>\n      </ul>\n    </li>\n    `\n  );\n};\n\nexport const renderExercises = (exercises) => {\n  return exercises.results.reduce((acc, exercise) => {\n    return acc + createExerciseCard(exercise);\n  }, '');\n};\n","import api from '../api';\nimport { renderExercises } from '../renderExercises';\nimport { renderPagination, paginationCallback } from '../pagination';\nimport { SEARCH_PARAMS } from '../../main';\n\nconst cardsContainer = document.querySelector('.cards-container');\n\nexport const getExercises = async (params, isInitPagination) => {\n  const paginationContainerEl = document.querySelector('.pagination-container');\n  const exercises = await api.exercises.getExercises(params);\n\n  if (exercises.results.length) {\n    const markup = renderExercises(exercises);\n    cardsContainer.innerHTML = `<ul class=\"main-exercises\">${markup}</ul>`;\n    renderPagination(\n      paginationCallback,\n      params.get(SEARCH_PARAMS.PAGE),\n      exercises.totalPages,\n      isInitPagination\n    );\n    if (paginationContainerEl) {\n      paginationContainerEl.classList.remove('hidden');\n    }\n  } else {\n    if (paginationContainerEl) {\n      paginationContainerEl.classList.add('hidden');\n    }\n    cardsContainer.innerHTML =\n      '<p class=\"search-empty-placeholder\">No Exercises Found. It looks like there are no exercises available at the moment. Please try again later or explore other categories.</p>';\n  }\n};\n","const save = (key, value) => {\n  try {\n    let favorites = load(key) || [];\n    if (!favorites.some((favorite) => favorite._id === value._id)) {\n      favorites.push(value);\n      localStorage.setItem(key, JSON.stringify(favorites));\n    }\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nconst remove = (key, id) => {\n  try {\n    let favorites = load(key) || [];\n    favorites = favorites.filter((exercise) => exercise._id !== id);\n    localStorage.setItem(key, JSON.stringify(favorites));\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nconst load = (key) => {\n  try {\n    const favoriteState = localStorage.getItem(key);\n    return favoriteState === null ? [] : JSON.parse(favoriteState);\n  } catch (err) {\n    console.error('State error: ', err.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import api from '../api';\nimport storageService from '../services/storage';\nimport spriteUrl from '../../images/sprite.svg';\n\nexport function generateStarRating(rating) {\n  const maxStars = 5;\n  let starsMarkup = '<ul class=\"star-rating\">';\n  const roundedRating = Math.round(rating);\n\n  for (let i = 1; i <= maxStars; i++) {\n    if (roundedRating >= i) {\n      starsMarkup += `<li class=\"star full\"><svg class=\"rate-star-icon\" width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-star\"></use></svg></li>`;\n    } else {\n      starsMarkup += `<li class=\"star empty\"><svg class=\"rate-star-icon\" width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-star\"></use></svg></li>`;\n    }\n  }\n\n  starsMarkup += '</ul>';\n  return starsMarkup;\n}\n\nexport function isExerciseFavorite(exerciseId) {\n  const favorites = storageService.load('favorites') || [];\n  return favorites.some((exercise) => exercise._id === exerciseId);\n}\n\nexport function handleAddToRemoveToggle(event) {\n  const button = event.target;\n  const exerciseId = button.getAttribute('data-id');\n  const isFavorite = button.innerHTML.includes('Remove from favorites');\n\n  if (isFavorite) {\n    handleRemoveFromFavorites(exerciseId);\n  } else {\n    handleAddToFavorites(exerciseId);\n  }\n}\n\nexport function handleAddToFavorites(exerciseId) {\n  api.exercises.getExercisesById(exerciseId).then((exercise) => {\n    storageService.save('favorites', exercise);\n\n    const button = document.querySelector('.modal-btn');\n    if (button) {\n      button.innerHTML = `Remove from favorites\n        <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-trash\"></use></svg>`;\n    }\n  });\n}\n\nexport function handleRemoveFromFavorites(exerciseId) {\n  storageService.remove('favorites', exerciseId);\n\n  const button = document.querySelector('.modal-btn');\n  if (button) {\n    button.innerHTML = `Add to favorites\n      <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-heart\"></use></svg>`;\n  }\n}\n","import axios from 'axios';\nimport { handleRemoveFromFavorites } from '../modal/exerciseHelpers.js';\nimport { createExerciseCard } from '../renderExercises.js';\nimport { showLoader, hideLoader } from '../loader.js';\n\nconst favoritesHTML = document.querySelector('.favorites');\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nexport const remove = async (event) => {\n  const dataId = event.currentTarget.dataset.id;\n  handleRemoveFromFavorites(dataId);\n  const arrEl = event.target.closest('.exercises-card');\n  arrEl.remove();\n  const favoritesData = localStorage.getItem('favorites');\n  const objects = JSON.parse(favoritesData);\n\n  if (objects && !objects.length) {\n    favoritesHTML.innerHTML = `<p class=\"not-exist\">It appears that you haven't added any exercises to your favorites yet.\n    To get started, you can add exercises that you like to your favorites for easier access in the future.\n    </p>`;\n  }\n};\n\nexport const getFavorites = async (params) => {\n  showLoader();\n  const favoritesData = localStorage.getItem('favorites');\n  const page = 1;\n  const elemPerPage = 6;\n  const objects = JSON.parse(favoritesData);\n\n  if (objects && objects.length > 0) {\n    const sorted = objects.toSorted();\n\n    const requests = sorted.map((item) =>\n      axios.get(`/exercises/${item['_id']}`).then((response) => response.data)\n    );\n    const exercisesData = await Promise.all(requests);\n    const cards = exercisesData\n      .map((card) => createExerciseCard(card, true))\n      .join('');\n    favoritesHTML.innerHTML = `<ul class=\"favorites-section card-set\">${cards}</ul>`;\n  } else {\n    favoritesHTML.innerHTML = `<p class=\"not-exist\">It appears that you haven't added any exercises to your favorites yet.\n    To get started, you can add exercises that you like to your favorites for easier access in the future.\n    </p>`;\n  }\n\n  const buttons = document.querySelectorAll('.exercises-delete-btn');\n\n  buttons.forEach((button) => {\n    button.addEventListener('click', remove);\n  });\n  hideLoader();\n};\n","import api from '../api';\n\nfunction getQuoteExpireTime() {\n  const expiryDate = new Date(Date.now() + 12 * (60 * 60 * 1000));\n  return expiryDate.getTime();\n}\n\nfunction isNeedToUpdate(time) {\n  if (!time) {\n    return true;\n  }\n  return time < Date.now();\n}\n\nexport async function fetchQuote() {\n  // fetch api function\n  try {\n    const apiResult = await api.quotes.getQuote();\n    apiResult.expire = getQuoteExpireTime();\n    localStorage.setItem('quote', JSON.stringify(apiResult));\n    return apiResult;\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}\n\nasync function getQuoteInfo() {\n  const localQuote = localStorage.getItem('quote');\n  if (!localQuote) {\n    return await fetchQuote();\n  }\n\n  const quoteInfo = JSON.parse(localQuote);\n  if (isNeedToUpdate(quoteInfo.expire)) {\n    return await fetchQuote();\n  }\n\n  return quoteInfo;\n}\n\nasync function updateQuote() {\n  const quoteText = document.querySelector('.js-qofd');\n  const quoteAuthor = document.querySelector('.quote-author');\n  const quote = await getQuoteInfo();\n  if (!(quoteText && quoteAuthor)) {\n    localStorage.removeItem('quote');\n    return;\n  }\n  if (!quote) {\n    return;\n  }\n  quoteText.textContent = quote.quote;\n  quoteAuthor.textContent = quote.author;\n}\n\nexport { updateQuote };\n","let resizeTimeout;\nimport { getExercisesLimit, getCategoriesLimit } from '../services/limit';\nimport {\n  defaultParams,\n  pushState,\n  SEARCH_PARAMS,\n  updateParameter,\n} from '../../main';\nimport { getFilters } from '../pages/home';\n\nexport function updateLinkParams() {\n  const limit = getCategoriesLimit();\n  const filterLinks = document.querySelectorAll('.filter-link');\n  if (filterLinks) {\n    filterLinks.forEach((link) => {\n      link.dataset.limit = limit;\n    });\n  }\n}\n\nconst handleResize = () => {\n  const { search, pathname } = window.location;\n  if (pathname.includes('favorites')) {\n    return;\n  }\n  if (!search) {\n    const limit = getCategoriesLimit();\n    defaultParams.set(SEARCH_PARAMS.LIMIT, limit);\n    updateLinkParams();\n    getFilters(defaultParams, true);\n    return;\n  }\n  if (search.includes(SEARCH_PARAMS.FILTER)) {\n    const limit = getCategoriesLimit();\n    const url = updateParameter(SEARCH_PARAMS.LIMIT, limit);\n    updateLinkParams();\n    pushState(url, {\n      isInitPagination: true,\n    });\n    return;\n  }\n  const limit = getExercisesLimit();\n  updateLinkParams();\n  const url = updateParameter(SEARCH_PARAMS.LIMIT, limit);\n  pushState(url, {\n    isInitPagination: true,\n  });\n};\n\nexport function handlePageReloader() {\n  addEventListener('resize', (e) => {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      handleResize();\n    }, 100);\n  });\n}\n","import { pushState } from '../../main';\nimport icons from '../../images/sprite.svg';\n\nfunction debounce(f, t) {\n  return function (args) {\n    let previousCall = this.lastCall;\n    this.lastCall = Date.now();\n    if (previousCall && this.lastCall - previousCall <= t) {\n      clearTimeout(this.lastCallTimer);\n    }\n    this.lastCallTimer = setTimeout(() => f(args), t);\n  };\n}\n\nfunction onSearch(e) {\n  const searchQuery = e.target.value.trim();\n  const url = new URL(window.location.href);\n  url.searchParams.set('keyword', searchQuery);\n  url.searchParams.set('page', 1);\n  pushState(url, {\n    isInitPagination: true,\n  });\n}\n\nexport const appendSearch = (urlParams) => {\n  const filtersContainerEl = document.querySelector('.main-filters-container');\n  if (filtersContainerEl) {\n    const searchContainerEl = document.createElement('div');\n    searchContainerEl.classList.add('search-container');\n    searchContainerEl.innerHTML = `<input class=\"search-exercises\" type=\"text\" id=\"search\" name=\"search\" placeholder=\"Search\" /><svg class=\"search-icon\" width=\"18\" height=\"18\"><use href=\"${icons}#icon-search\"></use></svg>`;\n    filtersContainerEl.prepend(searchContainerEl);\n    const searchEl = document.querySelector('.search-exercises');\n    searchEl.addEventListener('input', debounce(onSearch, 500));\n  }\n};\n\nexport const removeSearch = () => {\n  const searchContainerEl = document.querySelector('.search-container');\n  if (searchContainerEl) {\n    searchContainerEl.remove();\n  }\n};\n","export const appendBreadcrumbs = (categoryName) => {\n  const breadcrumbEl = document.querySelector('.main-exercises-breadcrumbs');\n  if (breadcrumbEl) {\n    const searchContainerEl = document.createElement('div');\n    searchContainerEl.classList.add('main-breadcrumb-title');\n    searchContainerEl.innerHTML = ` / <span>${categoryName}</span>`;\n    breadcrumbEl.append(searchContainerEl);\n  }\n};\n\nexport const removeBreadcrumbs = () => {\n  const breadcrumbTitleEl = document.querySelector('.main-breadcrumb-title');\n  if (breadcrumbTitleEl) {\n    breadcrumbTitleEl.remove();\n  }\n};\n","const navLinks = document.querySelectorAll('.router-link');\n\nexport function setActiveLink(base) {\n  const currentPath = window.location.pathname;\n  navLinks.forEach((link) => {\n    const linkTarget = link.getAttribute('href');\n    if (linkTarget === './') {\n      currentPath === '/' || currentPath === base + '/'\n        ? link.classList.add('active')\n        : link.classList.remove('active');\n    }\n    if (linkTarget === './favorites') {\n      currentPath.includes('favorites')\n        ? link.classList.add('active')\n        : link.classList.remove('active');\n      return;\n    }\n  });\n}\n\nexport function burgerMenuHandler() {\n  const burgerMenuButton = document.querySelector('.burger-menu');\n  const burgerMenuContent = document.querySelector('.burger-menu-content');\n  const closeMenuButton = document.querySelector('.close-menu');\n\n  document.addEventListener('click', (e) => {\n    if (\n      burgerMenuContent.classList.contains('open') &&\n      !burgerMenuContent.contains(e.target) &&\n      !burgerMenuButton.contains(e.target)\n    ) {\n      burgerMenuContent.classList.remove('open');\n      document.body.style.overflow = '';\n    }\n  });\n  if (burgerMenuButton) {\n    burgerMenuButton.addEventListener('click', () => {\n      burgerMenuContent.classList.add('open');\n      document.body.style.overflow = 'hidden';\n    });\n  }\n\n  if (closeMenuButton) {\n    closeMenuButton.addEventListener('click', () => {\n      burgerMenuContent.classList.remove('open');\n      document.body.style.overflow = '';\n    });\n  }\n}\n","export const refs = {\n  // modal\n  startModal: document.querySelector('body'),\n  backdrop: document.querySelector('.backdrop'),\n  closeModalBtn: document.querySelector('.modal-close-btn'),\n  modalEl: document.querySelector('.modal-container'),\n  rateBtn: document.querySelector('.rate-btn'),\n  // rate modal\n  rateBackdrop: document.querySelector('.rate-backdrop'),\n  rateCloseModalBtn: document.querySelector('.rate-modal-close-btn'),\n  rateModalEl: document.querySelector('.rate-modal-container'),\n  rateValue: document.querySelector('.rate-modal-selected-value'),\n\n  // header\n\n  // footer\n  subscribeForm: document.querySelector('.subscribe-form'),\n  emailInput: document.querySelector('.subscribe-form input[type=\"email\"]'),\n  submitButton: document.querySelector('.subscribe-form button[type=\"submit\"]'),\n};\n","import { refs } from '../refs';\nimport api from '../api';\nimport spriteUrl from '../../images/sprite.svg';\nimport {\n  generateStarRating,\n  isExerciseFavorite,\n  handleAddToRemoveToggle,\n} from './exerciseHelpers';\n\nexport default async function renderExerciseById(exerciseId) {\n  refs.modalEl.innerHTML = '';\n\n  try {\n    const exercise = await api.exercises.getExercisesById(exerciseId);\n    const {\n      _id,\n      bodyPart,\n      equipment,\n      gifUrl,\n      name,\n      target,\n      description,\n      burnedCalories,\n      popularity,\n      rating,\n    } = exercise;\n\n    const isFavorite = isExerciseFavorite(_id);\n    const starRatingMarkup = generateStarRating(rating);\n\n    const modalMarkup = `<div class=\"modal-info\">\n      <img class=\"exercise-img\" src=\"${\n        gifUrl || 'Oops, there is no video for this exercise'\n      }\" alt=\"${name}\" />\n      <div class=\"modal-info-box\">\n        <h2 class=\"exercise-title\">${name}</h2>\n        <div class=\"exercise-rating\">${rating.toFixed(\n          1\n        )}${starRatingMarkup}</div>\n        <ul class=\"exercise-set\">\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Target</h3><p class=\"item-description\">${target}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Body Part</h3><p class=\"item-description\">${bodyPart}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Equipment</h3><p class=\"item-description\">${equipment}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Popular</h3><p class=\"item-description\">${popularity}</p></li>\n          <li class=\"exercise-set-item\"><h3 class=\"item-title\">Burned Calories</h3><p class=\"item-description\">${burnedCalories}</p></li>\n        </ul>\n        <p class=\"exercise-description\">${\n          description || 'We hope you will enjoy it'\n        }</p> \n      <div class=\"btn-wrap\">\n      <button type=\"button\" class=\"modal-btn\" data-id=\"${_id}\">\n        ${\n          isFavorite\n            ? `Remove from favorites\n          <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-trash\"></use></svg>`\n            : `Add to favorites\n          <svg width=\"18\" height=\"18\"><use href=\"${spriteUrl}#icon-heart\"></use></svg>`\n        }\n      </button>\n      <button type=\"button\" class=\"modal-btn rate-btn open-exercise-rate-modal\" data-id=\"${_id}\">Give a rating</button>\n      </div>\n      </div>\n    </div>`;\n\n    refs.modalEl.innerHTML = modalMarkup;\n\n    const button = document.querySelector('.modal-btn');\n    if (button) {\n      button.removeEventListener('click', handleAddToRemoveToggle);\n      button.addEventListener('click', handleAddToRemoveToggle);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { refs } from '../refs';\nimport renderExerciseById from './renderExercise';\nimport { getFavorites } from '../favorites/favorites-api';\nrefs.startModal.addEventListener('click', handleOpenModal);\n\nfunction handleOpenModal(event) {\n  if (!event.target.closest('.start-btn')) return;\n  const exerciseId = event.target.closest('.start-btn').getAttribute('data-id');\n\n  openModal(exerciseId);\n}\n\nexport async function openModal(exerciseId) {\n  refs.backdrop.addEventListener('click', handleBackdropClick);\n  refs.closeModalBtn.addEventListener('click', handleCloseModal);\n  window.addEventListener('keydown', handleEscKey);\n\n  document.body.style.overflowY = 'hidden';\n  await renderExerciseById(exerciseId);\n  refs.backdrop.classList.remove('is-hidden');\n}\n\nexport function handleCloseModal() {\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.backdrop.removeEventListener('click', handleBackdropClick);\n  refs.closeModalBtn.removeEventListener('click', handleCloseModal);\n  window.removeEventListener('keydown', handleEscKey);\n\n  setTimeout(() => {\n    refs.modalEl.innerHTML = '';\n    document.body.style.overflowY = 'auto';\n  }, 250);\n  const favorites = document.querySelector('.favorites');\n  if (favorites) {\n    getFavorites();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    handleCloseModal();\n  }\n}\n\nfunction handleEscKey(event) {\n  if (event.code === 'Escape') {\n    handleCloseModal();\n  }\n}\n","import { refs } from '../refs';\nimport api from '../api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\nexport function handleSubscription() {\n  const subscribeForm = refs.subscribeForm;\n  const emailInput = refs.emailInput;\n  const submitButton = refs.submitButton;\n\n  if (!subscribeForm) {\n    return;\n  }\n\n  subscribeForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const emailValue = emailInput.value.trim();\n\n    if (!emailPattern.test(emailValue)) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a valid email address.',\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      return;\n    }\n\n    try {\n      const response = await api.subscription.subscribe(emailValue);\n\n      iziToast.success({\n        title: 'Success',\n        message: response.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n      event.target.reset();\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error?.response?.data?.message ?? error.message,\n        position: 'bottomRight',\n        maxWidth: '400px',\n      });\n    }\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  handleSubscription();\n});\n","export function setupScrollToTop() {\n  const scrollToTopButton = document.getElementById('scroll-to-top');\n\n  if (!scrollToTopButton) {\n    return;\n  }\n\n  scrollToTopButton.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n}\n\nexport function setupLogoAnimation() {\n  const logo = document.getElementById('logo');\n\n  if (!logo) {\n    return;\n  }\n\n  logo.addEventListener('click', () => {\n    logo.style.transition = 'transform 0.5s ease-in-out';\n    logo.style.transform = 'scale(1.2)';\n    setTimeout(() => {\n      logo.style.transform = 'scale(1)';\n    }, 500);\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupScrollToTop();\n  setupLogoAnimation();\n});\n","import { refs } from '../refs';\nimport api from '../api';\nimport spriteUrl from '../../images/sprite.svg';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { handleCloseModal, openModal } from './modal';\n\nrefs.startModal.addEventListener('click', handleOpenRateModal);\n\nconst createRateBtn = (rate) => {\n  return `<li class=\"rate-modal-star-item\"><input class=\"rate-modal-radio\" type=\"radio\" id=\"star${rate}\" name=\"rate\" value=\"${rate}\">\n  <label for=\"star${rate}\" class=\"rate-modal-label\">\n        <svg class=\"star-icon\" aria-hidden=\"true\">\n          <use href=\"${spriteUrl}#icon-star\"></use>\n        </svg>\n      </label></li>`;\n};\n\nlet isEnteredFromModal = false;\n\nasync function handleOpenRateModal(event) {\n  if (!event.target.closest('.open-exercise-rate-modal')) return;\n  const exerciseId = event.target\n    .closest('.open-exercise-rate-modal')\n    .getAttribute('data-id');\n\n  isEnteredFromModal = !refs.backdrop.classList.contains('is-hidden');\n  if (isEnteredFromModal) {\n    handleCloseModal();\n  }\n  refs.rateBackdrop.classList.remove('is-hidden');\n  refs.rateBackdrop.addEventListener('click', handleBackdropClick);\n  refs.rateCloseModalBtn.addEventListener('click', handleCloseRateModal);\n  window.addEventListener('keydown', handleEscKey);\n\n  let markup = '';\n\n  for (let i = 1; i <= 5; i++) {\n    markup += createRateBtn(i);\n  }\n\n  const res = await api.exercises.getExercisesById(exerciseId);\n  refs.rateValue.textContent = res.rating.toFixed(1);\n\n  const container = document.querySelector('.rate-modal-stars');\n  refs.rateModalEl.setAttribute('data-id', exerciseId);\n\n  document.body.style.overflowY = 'hidden';\n  container.innerHTML = markup;\n}\n\nfunction handleCloseRateModal() {\n  refs.rateBackdrop.classList.toggle('is-hidden');\n  refs.rateBackdrop.removeEventListener('click', handleBackdropClick);\n  refs.rateCloseModalBtn.removeEventListener('click', handleCloseRateModal);\n  window.removeEventListener('keydown', handleEscKey);\n\n  if (isEnteredFromModal) {\n    openModal(refs.rateModalEl.getAttribute('data-id'));\n  }\n\n  refs.rateModalEl.reset();\n  document.body.style.overflowY = 'auto';\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    handleCloseRateModal();\n  }\n}\n\nfunction handleEscKey(event) {\n  if (event.code === 'Escape') {\n    handleCloseRateModal();\n  }\n}\n\nconst emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\nconst handleRateSubmit = async (e) => {\n  e.preventDefault();\n  const email = e.target.elements.email.value.trim();\n  const rate = e.target.elements.rate.value;\n  const review = e.target.elements.review.value;\n  if (!rate) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please rate the exercise.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  if (!review) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please leave a review.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  if (!email || !emailPattern.test(email)) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a valid email address.',\n      position: 'bottomRight',\n      maxWidth: '400px',\n    });\n    return;\n  }\n  const exerciseId = refs.rateModalEl.getAttribute('data-id');\n\n  const body = {\n    rate: Number(rate),\n    email,\n    review,\n  };\n\n  const res = await api.exercises.addExerciseRatingById(exerciseId, body);\n\n  if (res) {\n    e.target.reset();\n\n    handleCloseRateModal();\n  }\n};\n\nrefs.rateModalEl.addEventListener('submit', handleRateSubmit);\n","const anchor = document.querySelector('.scroll-to-top');\n\nif (anchor) {\n  document.addEventListener('scroll', function () {\n    if (!anchor) {\n      return;\n    }\n    if (window.scrollY === 0) {\n      anchor.style.transform = 'rotate(135deg)';\n    } else {\n      anchor.style.transform = 'rotate(-45deg)';\n    }\n  });\n\n  const handleScrollBtn = () => {\n    if (window.scrollY === 0) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    } else {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    }\n  };\n  if (anchor) {\n    anchor.addEventListener('click', handleScrollBtn);\n  }\n}\n","/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","import { getFilters } from './js/pages/home';\nimport { getExercises } from './js/pages/exercises';\nimport { getFavorites } from './js/favorites/favorites-api';\nimport { updateQuote } from './js/quote/quote';\nimport { getCategoriesLimit } from './js/services/limit';\nimport { handlePageReloader, updateLinkParams } from './js/reloader/reloader';\nimport { appendSearch, removeSearch } from './js/search/search';\nimport {\n  appendBreadcrumbs,\n  removeBreadcrumbs,\n} from './js/breadcrumbs/breadcrumbs';\n\nimport './js/header/burger-menu';\nimport './js/modal/modal';\nimport './js/footer/subscription';\nimport './js/footer/animation';\nimport './js/modal/rateModal';\nimport './js/scrollToTop';\nimport './js/svgxuse';\nimport { setActiveLink, burgerMenuHandler } from './js/header/burger-menu';\n\nconst basePath = import.meta.env.BASE_URL.slice(0, -1);\n\nexport const SEARCH_PARAMS = {\n  FILTER: 'filter',\n  PAGE: 'page',\n  LIMIT: 'limit',\n  NAME: 'name',\n  KEYWORD: 'keyword',\n};\n\nexport const FILTERS = {\n  MUSCLES: 'Muscles',\n  BODY_PARTS: 'Body parts',\n  EQUIPMENT: 'Equipment',\n};\n\nexport const FILTERS_MAPPER = {\n  [FILTERS.MUSCLES]: 'muscles',\n  [FILTERS.BODY_PARTS]: 'bodypart',\n  [FILTERS.EQUIPMENT]: 'equipment',\n};\n\nexport const defaultParamsArray = [\n  [SEARCH_PARAMS.FILTER, FILTERS.MUSCLES],\n  [SEARCH_PARAMS.PAGE, 1],\n  [SEARCH_PARAMS.LIMIT, getCategoriesLimit()],\n];\n\nexport const defaultParams = new URLSearchParams(defaultParamsArray);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setActiveLink(basePath);\n  updateLinkParams();\n  const { pathname, search } = window.location;\n  if (pathname === `${basePath}/` && !search) {\n    getFilters(defaultParams, true);\n    return;\n  } else if (pathname.includes('favorites')) {\n    getFavorites();\n    return;\n  }\n  handleLocation(true);\n});\n\nexport const getUrl = (event) => {\n  event.preventDefault();\n  const url = new URL(event.currentTarget.href);\n  url.pathname = `${basePath}${url.pathname}`;\n  return url;\n};\n\nexport const setParams = (event, url) => {\n  const dataset = event.currentTarget.dataset;\n  const searchKeys = [\n    ...Object.values(SEARCH_PARAMS),\n    ...Object.values(FILTERS_MAPPER),\n  ];\n  Object.keys(dataset).forEach((key) => {\n    if (searchKeys.includes(key)) {\n      url.searchParams.set(key, dataset[key]);\n    }\n  });\n};\n\nexport const handleLocation = async (isInitPagination) => {\n  const { search } = window.location;\n  const urlParams = new URLSearchParams(search);\n\n  if (!urlParams.has(SEARCH_PARAMS.FILTER)) {\n    const searchEl = document.querySelector('.search-exercises');\n    const breadcrumbEl = document.querySelector('.main-breadcrumb-title');\n\n    if (!breadcrumbEl) {\n      appendBreadcrumbs(urlParams.get('name'));\n    }\n    if (!searchEl) {\n      appendSearch(urlParams);\n    }\n    getExercises(urlParams, isInitPagination || history.state.isInitPagination);\n    return;\n  }\n  getFilters(urlParams, isInitPagination || history.state.isInitPagination);\n  removeSearch();\n  removeBreadcrumbs();\n};\n\nexport const pushState = (url, state = {}) => {\n  window.history.pushState(state, '', url);\n  handleLocation();\n};\n\nexport const handleClick = (event, state = {}) => {\n  const url = getUrl(event);\n  setParams(event, url);\n  pushState(url, state);\n};\n\nexport const addListener = (selector, callback) => {\n  let elements;\n  if (typeof selector === 'string') {\n    elements = document.querySelectorAll(selector);\n  } else {\n    elements = selector;\n  }\n\n  elements.forEach((link) => {\n    link.addEventListener('click', callback);\n  });\n  return elements;\n};\n\nexport const updateParameter = (key, value, isSetDefault = false) => {\n  const { href, search } = window.location;\n  const url = new URL(href);\n  if (isSetDefault && !search) {\n    defaultParamsArray.forEach(([key, value]) => {\n      url.searchParams.set(key, value);\n    });\n  }\n  url.searchParams.set(key, value);\n  return url;\n};\n\nburgerMenuHandler();\nupdateQuote();\nhandlePageReloader();\nwindow.addEventListener('popstate', handleLocation);\n"],"names":["loader","showLoader","hideLoader","ExercisesService","axios","__privateAdd","_ExercisesService_instances","_basePath","_axios","__privateSet","params","data","__privateGet","error","iziToast","_b","_a","id","body","__privateMethod","validateBodyForRating_fn","rate","email","review","FiltersService","QuotesService","SubscriptionService","_SubscriptionService_instances","validateEmail_fn","initAPI","host","config","instance","options","api","BREAKPOINTS","getExercisesLimit","getCategoriesLimit","createCard","filter","name","imgURL","FILTERS_MAPPER","renderCards","element","markup","addListener","event","handleClick","totalPages","currentPage","prevBtn","nextBtn","firstBtn","lastBtn","pageInfo","initPagination","callback","current","total","renderPagination","goToPage","isInitPagination","pages","i","startPage","endPage","page","button","paginationCallback","url","updateParameter","SEARCH_PARAMS","pushState","handleLocation","cardsContainer","filterLinks","ACTIVE_CLASS","handleFilterClick","link","getFilters","categoriesData","spriteUrl","createExerciseCard","bodyPart","equipment","gifUrl","target","description","rating","burnedCalories","time","popularity","_id","isFavourite","renderExercises","exercises","acc","exercise","getExercises","paginationContainerEl","save","key","value","favorites","load","favorite","err","remove","favoriteState","storageService","generateStarRating","starsMarkup","roundedRating","isExerciseFavorite","exerciseId","handleAddToRemoveToggle","handleRemoveFromFavorites","handleAddToFavorites","favoritesHTML","dataId","favoritesData","objects","getFavorites","requests","item","response","cards","card","getQuoteExpireTime","isNeedToUpdate","fetchQuote","apiResult","getQuoteInfo","localQuote","quoteInfo","updateQuote","quoteText","quoteAuthor","quote","resizeTimeout","updateLinkParams","limit","handleResize","search","pathname","defaultParams","handlePageReloader","debounce","f","args","previousCall","onSearch","searchQuery","appendSearch","urlParams","filtersContainerEl","searchContainerEl","icons","removeSearch","appendBreadcrumbs","categoryName","breadcrumbEl","removeBreadcrumbs","breadcrumbTitleEl","navLinks","setActiveLink","base","currentPath","linkTarget","burgerMenuHandler","burgerMenuButton","burgerMenuContent","closeMenuButton","e","refs","renderExerciseById","isFavorite","starRatingMarkup","modalMarkup","handleOpenModal","openModal","handleBackdropClick","handleCloseModal","handleEscKey","emailPattern","handleSubscription","subscribeForm","emailInput","emailValue","setupScrollToTop","scrollToTopButton","setupLogoAnimation","logo","handleOpenRateModal","createRateBtn","isEnteredFromModal","handleCloseRateModal","res","container","handleRateSubmit","anchor","handleScrollBtn","cache","checkUseElems","tid","debouncedCheck","unobserveChanges","observeChanges","observer","createRequest","getOrigin","loc","a","Request","origin","origin2","xlinkNS","bcr","hash","href","inProgressCount","isHidden","uses","xhr","observeIfDone","attrUpdateFunc","spec","onloadFunc","x","svg","onErrorTimeout","winLoad","basePath","FILTERS","defaultParamsArray","getUrl","setParams","dataset","searchKeys","searchEl","state","selector","elements","isSetDefault"],"mappings":"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"}